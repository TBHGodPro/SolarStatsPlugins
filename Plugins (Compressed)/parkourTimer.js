const{Command:a}=toolbox,cmd=new a("pr",[],["reset"]);var timeStarted=null;function parseTime(a){var b=Math.floor(a/6e4).toString(),c=Math.floor((a-=6e4*b)/1e3).toString();return a=(a-1e3*c).toString(),1==b.length&&(b="0"+b),1==c.length&&(c="0"+c),2==a.length&&(a="0"+a),1==a.length&&(a="00"+a),`\xa7a${b}\xa7f:\xa7a${c}\xa7f.\xa7a${a}`}cmd.onTriggered=()=>{player.executeCommand("/parkour reset"),timeStarted=null},registerCommand(cmd),player.proxy.on("incoming",(b,c)=>{if("chat"==c.name&&0==b.position){var{message:a}=b;a=JSON.parse(a),a.extra??=[],((a=[a.text,...a.extra.map(a=>a.text)].join("")).includes("Parkour challenge started!")||a.includes("Reset your timer to 00:00!"))&&(timeStarted=Date.now()),(a.includes("cancelled")||a.includes("failed")||a.includes("completed")||a.includes("record"))&&(timeStarted=null)}}),setInterval(()=>{if(timeStarted){var a=Date.now()-timeStarted;player.client.write("chat",{message:JSON.stringify({text:parseTime(a)}),position:2})}},50),registerPlugin({name:"Parkour Timer",description:"Live Timer For Parkour",version:"1.1.0",author:"TBHGodPro"})