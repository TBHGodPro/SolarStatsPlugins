(()=>{var e={247:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});const n=requireModule("node:fs"),o=async e=>{e+=".js";var t=__dirname.split("/");t.pop(),t.pop(),t=t.join("/")+"/plugins";let r=n.readFileSync(`${t}/${e}`,"utf8");r=r.split('version:"')[r.split('version:"').length-1].split('",')[0];const o=await fetch(`https://raw.githubusercontent.com/TBHGodPro/SolarStatsPlugins/main/Plugins%20(Compressed)/${e}`);if(!o||"404: Not Found"==o)return;const s=o.split('version:"')[o.split('version:"').length-1].split('",')[0];(function(e,t){if(e==t)return!1;const r=e.split(".").map((e=>parseInt(e))),n=t.split(".").map((e=>parseInt(e)));console.log(r,n);var o=0;for(const e of r){if(r[o]<n[o])return!0;o+=1}return!1})(r,s)&&setTimeout((()=>{Logger.info(`UPDATING PLUGIN FROM ${r} TO ${s}, PLEASE RESTART SOLAR STATS`),n.writeFile(`${t}/${e}`,o,{},(()=>{}))}),500)}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{r(247).Z("gameStats");const{PlayerModule:e,Item:t,getConfigSync:n,getConfig:o}=toolbox,s=new t(4);s.displayName="§rGame Stats",s.lore=["","§7Shows Your Opponent's Game Stats","§7In Duels Once They Join","","§7Current: §"+(n().modules.gameStats?"aEnabled":"cDisabled")];const a=new e("LC Staff Mods (X-RAY)","Enable Staff Mods For Lunar Client",s,"gameStats");var i=null;async function l(e,t){if(await new Promise((e=>setTimeout(e,1500))),!(await o()).modules.gameStats||t==player.client.username||!i)return;const r=await fetch(`https://api.hypixel.net/player?key=${encodeURIComponent((await o()).apiKey)}&uuid=${encodeURIComponent(e)}`);if(!r.player)return;const n=r.player.stats.Duels,s={bridge_duel:"bridge_duel_bridge",bridge_doubles:"bridge_doubles_bridge"},a=n["current_winstreak_mode_"+i]??"§r§4UNKOWN",l=n["best_winstreak_mode_"+i]??"§r§4UNKOWN",p=n[i+"_wins"]??1,u=n[i+"_losses"]??1,d=Math.round(p/u*100)/100,c=n[(s[i]??i)+"_kills"]??1,m=n[(s[i]??i)+"_deaths"]??1,y=Math.round(c/m*100)/100,f=n[i+"_rounds_played"]??"§r§4UNKOWN";player.sendMessage(`§r§7------§c§lSolar Stats§r§7§l - §f§l${r.player.displayname}§r§7------\n§eWS §6§l${a} §r§f| §eBWS §6§l${l} §r§f| §eWLR §6§l${d} §r§f| §eKDR §6§l${y} §r§f| §ePLAYED §6§l${f}\n§r§7---------------------------------`)}function p(){i=null,player.listener.removeListener("player_join",l)}a.handle("LocationUpdate",(async e=>{e.mode?.startsWith("DUELS")&&(await o()).modules.gameStats?function(e){i=e.mode?.substring(6)?.toLowerCase(),player.listener.removeListener("player_join",l),player.listener.on("player_join",l)}(e):p()})),player.proxy.on("incoming",((e,t)=>{if("chat"==t.name){var{message:r}=e;r=JSON.parse(r),r.extra??=[],(r=[r.text,...r.extra.map((e=>e.text))].join("")).includes("Reward Summary")&&p()}})),registerPlayerModule(a),registerPlugin({name:"Game Stats",description:"Shows Your Opponent's Game Stats In Duels Once They Join",version:"1.0.0",author:"TBHGodPro"})})()})();