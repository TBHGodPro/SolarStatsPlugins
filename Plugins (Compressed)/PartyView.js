(()=>{var e={247:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});const a=requireModule("node:fs"),i=r(465).Z,l=async()=>{var e=i();e=e.split("/")[e.split("/").length-1];var t=__dirname.split("/");t.pop(),t.pop(),t=t.join("/")+"/plugins";let r=a.readFileSync(`${t}/${e}`,"utf8");r=r.split('version:"')[r.split('version:"').length-1].split('",')[0];const l=await fetch(`https://raw.githubusercontent.com/TBHGodPro/SolarStatsPlugins/main/Plugins%20(Compressed)/${e}`);if(!l||"404: Not Found"==l)return;const n=l.split('version:"')[l.split('version:"').length-1].split('",')[0];(function(e,t){if(e==t)return!1;const r=e.split(".").map((e=>parseInt(e))),a=t.split(".").map((e=>parseInt(e)));var i=0;for(const e of r){if(r[i]<a[i])return!0;i+=1}return!1})(r,n)&&setTimeout((()=>{Logger.info(`UPDATING PLUGIN FROM ${r} TO ${n}, PLEASE RESTART SOLAR STATS`),a.writeFile(`${t}/${e}`,l,{},(()=>{}))}),500)}},465:(e,t,r)=>{"use strict";function a({depth:e=0}={}){const t=function({depth:e=0}={}){const t=[],r=new Set;for(const a of function(){const e=Error.prepareStackTrace;Error.prepareStackTrace=(e,t)=>t;const t=(new Error).stack.slice(1);return Error.prepareStackTrace=e,t}()){const i=a.getFileName(),l=null!==a.getTypeName()&&null!==i;if(r.has(i)||(r.add(i),t.unshift(a)),l)return t[e]}}({depth:e});return t&&t.getFileName()}r.d(t,{Z:()=>a})}},t={};function r(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,r),l.exports}r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{r(247).Z();var e=[],t={};function a(e){return{uuid:e}}async function i(e){var r=t[e];return r||(r=player.connectedPlayers.find((t=>t.name==e))?.uuid),r||(r=(await fetch(`https://api.mojang.com/users/profiles/minecraft/${e}`)).id),r}var l=toolbox.getConfigSync().modules.PartyView;const n=new toolbox.Item(397);n.meta=3,n.displayName="§rParty View",n.lore=["","§7Use The Lunar Client Team View","§7Mod To See Your Party Members","","§7Current: §"+(l?"aEnabled":"cDisabled")];const s=new toolbox.PlayerModule("Party View","View Your Party Members With LC Team View",n,"PartyView");s.customCode=()=>{player.proxy.on("incoming",(async(r,l,n,o)=>{if("chat"==l.name){var p=JSON.parse(r.message);p.extra??=[];var c=[p.text,...p.extra.map((e=>e.text))].join("");if(c.endsWith("joined the party.")){m=(m=c.split(" ")).splice(m[0].startsWith("[")?1:0,m.length-(m[0].startsWith("[")?4:3)).join(" "),e.push(m);var u=await i(m);if(t[m]=u,s.enabled){if(!u)return;player.lcPlayer?.addTeammate(a(u))}}if(c.endsWith("left the party.")&&!c.startsWith("You")&&(m=(m=c.split(" ")).splice(m[0].startsWith("[")?1:0,m.length-(m[0].startsWith("[")?4:3)).join(" "),e=e.filter((e=>e!=m)),delete t[m],s.enabled)){if(!(u=await i(m)))return;player.lcPlayer?.removeTeammate(a(u))}if((c.includes("has disbanded the party!")||c.includes("You left the party."))&&(e=[],t={},player.lcPlayer?.removeAllTeammates()),c.includes("You have joined")&&c.includes("party!")&&setTimeout((()=>player.executeCommand("/party list")),1e3),c.includes("Party Leader:")&&(m=(m=c.split(" ")).splice(m[0].startsWith("[")?4:3,m.length-(m[0].startsWith("[")?5:4)).join(" "),e=[],player.lcPlayer?.removeAllTeammates(),e.push(m),u=await i(m),t[m]=u,s.enabled)){if(!u)return;player.lcPlayer?.addTeammate(a(u))}if(c.includes("Party Moderators:")||c.includes("Party Members:")){var d=c.split(" ");for(var m of(d=d.splice(2,d.length).join(" ").split("● ").map((e=>e.split(" ").splice(d[0].startsWith("[")?2:1,d.length-(d[0].startsWith("[")?2:1)).join(" "))),e.push(d),d))u=await i(m),t[m]=u;if(s.enabled)for(var m of d){if(!(u=await i(m)))return;player.lcPlayer?.addTeammate(a(u))}c.includes("Party Members:")&&(t=Object.keys(t).filter((t=>e.includes(t))).map((e=>t[e])))}c.includes("You are not currently in a party.")&&(e=[],t={},player.lcPlayer?.removeAllTeammates())}}))},s.onConfigChange=async t=>{if(l=t,s.enabled)for(var r of(player.lcPlayer?.removeAllTeammates(),e)){var n=await i(r);if(!n)return;player.lcPlayer?.addTeammate(a(n))}else player.lcPlayer?.removeAllTeammates()},s.onLocationUpdate=()=>{setTimeout((()=>{s.enabled&&(player.lcPlayer?.removeAllTeammates(),setTimeout((async()=>{for(var t of e){var r=await i(t);if(!r)return;player.lcPlayer?.addTeammate(a(r))}}),500))}),1e3)},player.listener.on("player_join",((t,r)=>{s.enabled&&e.includes(r)&&t&&player.lcPlayer?.addTeammate(a(t))})),registerPlayerModule(s),registerPlugin({name:"Party View",description:"View Your Party Members With LC Team View | `/ss`",version:"1.5.0",author:"TBHGodPro"})})()})();